(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bc5f9c0"],{"0d5b":function(e,t,r){"use strict";t["a"]={props:["inputProps"],computed:{pref:function(){return this.inputProps.defaultPref}}}},24788:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="999"},"362a":function(e,t,r){"use strict";r("d5ad")},"5bb2":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("MultipleAddress",{attrs:{lines:e.lines,placeholders:e.addressPlaceholders},scopedSlots:e._u([{key:"postal",fn:function(){return[r("PostalInput",{attrs:{loading:e.fetchingAddress},model:{value:e.postalCode,callback:function(t){e.postalCode=t},expression:"postalCode"}})]},proxy:!0}]),model:{value:e.addresses,callback:function(t){e.addresses=t},expression:"addresses"}}),r("input",{attrs:{type:"hidden",name:"pref"},domProps:{value:e.pref}}),r("input",{attrs:{type:"hidden",name:"zipCode"},domProps:{value:e.postalCode}}),r("input",{attrs:{type:"hidden",name:"addr"},domProps:{value:e.address}})],1)},s=[],a=r("2909"),o=r("1da1"),i=(r("96cf"),r("a15b"),r("4de4"),r("0d5b")),d=r("c3ce"),l=r("89df"),u=r("5213"),c=r("b047"),p=r.n(c),h={name:"VAddressSG",mixins:[d["a"],i["a"]],inheritAttrs:!1,data:function(){return{fetchingAddress:!1}},computed:{address:function(){var e=this.addresses.filter((function(e){return e.length>0})).join(" ");return 0===e.length?"":Object(l["c"])(e)},zipCodeLength:function(){return this.rules("zipCode").length}},methods:{rules:function(e){return this.$store.getters["inputForm/getFieldRules"](e)},handlePostalCodeChanged:p()(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o,i,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(u["b"])(),this.fetchingAddress=!0,e.prev=2,e.next=5,r.get({country:u["a"].sg,postalCode:t});case 5:n=e.sent,s=n.data.items,s.length>0?(o=s[0].address,i=o.houseNumber,d=o.street,this.addresses=Object(a["a"])(this.addresses),this.addresses[0]=[i,d].join(" ")):(this.addresses=Object(a["a"])(this.addresses),this.addresses[0]=""),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error(e.t0);case 13:return e.prev=13,this.fetchingAddress=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),500)},watch:{postalCode:function(e){e&&e.length==this.zipCodeLength&&this.handlePostalCodeChanged(e)}}},f=h,m=r("2877"),v=Object(m["a"])(f,n,s,!1,null,null,null);t["default"]=v.exports},"81d5":function(e,t,r){"use strict";var n=r("7b0b"),s=r("23cb"),a=r("50c4");e.exports=function(e){var t=n(this),r=a(t.length),o=arguments.length,i=s(o>1?arguments[1]:void 0,r),d=o>2?arguments[2]:void 0,l=void 0===d?r:s(d,r);while(l>i)t[i++]=e;return t}},"89df":function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return l}));r("ac1f"),r("841c"),r("159b"),r("d81d"),r("99af");var n=r("bd0f"),s=function(e){return-1!=e.search(/iPhone/)||-1!=e.search(/iPad/)||-1!=e.search(/iPod/)||-1!=e.search(/Android/)},a=function(e){for(var t=new Array,r=e,n="",s=0;s<r.length;s++)r.charCodeAt(s)>65248&&r.charCodeAt(s)<65375?t[s]=r.charCodeAt(s)-65248:t[s]=r.charCodeAt(s),n+=String.fromCharCode(t[s]);return n},o=function(e){var t={sort:[],map:{}};return e.forEach((function(e){var r=e.area,n=e.region,s=e.code,a=e.address,o=e.hour_weekday,i=e.hour_holiday;t.map[r]||(t.sort.push(r),t.map[r]={sort:[],map:[]}),t.map[r].map[n]||(t.map[r].sort.push(n),t.map[r].map[n]=[]),t.map[r].map[n].push({code:s,address:a,hour_weekday:o,hour_holiday:i})})),t},i=function(e){var t={sort:[],map:{}};return e.forEach((function(e){var r=e.area,n=e.region,s=e.code,a=e.address,o=e.hour_weekday,i=e.hour_holiday;t.map[r]||(t.sort.push(r),t.map[r]={sort:[],map:[]}),t.map[r].map[n]||(t.map[r].sort.push(n),t.map[r].map[n]=[]),t.map[r].map[n].push({code:s,address:a,hour_weekday:o,hour_holiday:i})})),t},d=function(e,t){if(!document.getElementById(e)){var r=document.createElement("script");r.id=e,r.src=t,r.async=!0,document.body.appendChild(r)}},l=function(e){return"".concat(window.location.origin).concat(window.location.pathname).concat(n["r"],"/").concat(e)}},a106:function(e,t,r){},c337:function(e,t,r){"use strict";r("a106")},c3ce:function(e,t,r){"use strict";var n=r("24788"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._t("postal"),e._l(e.addressList,(function(t,n){var s=t.key,a=t.name,o=t.rules,i=t.placeholder;return r("ValidationProvider",{key:s,attrs:{name:a,rules:o,slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.failed;return[r("div",{staticClass:"form-group"},[r("input",{class:["form-control",{"is-invalid":s}],attrs:{type:"text",maxlength:e.addressMaxLength,minlength:0===n?e.addressMinLength:"",placeholder:i},domProps:{value:e.value[n]},on:{input:function(t){return e.onAddressChanged(t,n)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:s,expression:"failed"}],staticClass:"danger-alert"},[e._v(" "+e._s(e.$t("validations.address"))+" ")])])]}}],null,!0)})}))],2)},a=[],o=r("2909"),i=(r("d81d"),r("cb29"),r("7bb1")),d={name:"MultipleAddress",inheritAttrs:!1,components:{ValidationProvider:i["b"]},props:["lines","value","placeholders"],computed:{addressMaxLength:function(){return this.rules("addr").max},addressMinLength:function(){return this.rules("addr").min},addressList:function(){var e=this;return Array(this.lines||1).fill().map((function(t,r){return{key:"address".concat(r),name:"address".concat(r),rules:0===r?e.rules("addr"):e.rules("addr2"),placeholder:e.placeholders[r]||""}}))}},methods:{rules:function(e){return this.$store.getters["inputForm/getFieldRules"](e)},onAddressChanged:function(e,t){var r=Object(o["a"])(this.value);r[t]=e.target.value,this.$emit("input",r)}}},l=d,u=r("2877"),c=Object(u["a"])(l,s,a,!1,null,null,null),p=c.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ValidationProvider",{attrs:{name:"postal",rules:e.rules("zipCode"),slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.failed;return[r("div",{staticClass:"form-group cros-float-left clearfix"},[r("label",{staticClass:"cros-float-left form-control-static cros-label"},[e._v(e._s(e.$t("fields.postal"))+" ")]),r("div",{staticClass:"cros-float-left postal-input"},[r("input",{class:["form-control",{"is-invalid":n}],attrs:{type:"text",maxlength:e.postalCodeLength,placeholder:e.$t("common.placeholder.postal"),disabled:e.loading},domProps:{value:e.value},on:{input:e.onChanged}}),e.loading?r("div",{staticClass:"postal-loader"},[r("ClipLoader",{attrs:{loading:!0,color:"#0066FF",size:"16px"}})],1):e._e()]),r("div",{directives:[{name:"show",rawName:"v-show",value:n,expression:"failed"}],staticClass:"danger-alert"},[e._v(" "+e._s(e.$t("validations.zipCode",{length:e.postalCodeLength}))+" ")])])]}}])})},f=[],m=r("da7a"),v={name:"PostalInput",components:{ValidationProvider:i["b"],ClipLoader:m["a"]},props:["value","loading"],computed:{postalCodeLength:function(){return this.rules("zipCode").length}},methods:{rules:function(e){return this.$store.getters["inputForm/getFieldRules"](e)},onChanged:function(e){this.$emit("input",e.target.value)}}},g=v,C=(r("362a"),Object(u["a"])(g,h,f,!1,null,null,null)),b=C.exports;t["a"]={components:{PostalInput:b,MultipleAddress:p},data:function(){return{addresses:["",""]}},computed:{lines:function(){return 2},postalCode:{get:function(){return this.$store.state.inputForm.postalCode},set:function(e){this.$store.commit("inputForm/update",{name:"postalCode",value:e})}},pref:function(){return n["a"]},addressPlaceholders:function(){return[this.$t("address.placeholder"),this.$t("address.placeholder2")]}},methods:{rules:function(e){return this.$store.getters["inputForm/getFieldRules"](e)}}}},cb29:function(e,t,r){var n=r("23e7"),s=r("81d5"),a=r("44d2");n({target:"Array",proto:!0},{fill:s}),a("fill")},d5ad:function(e,t,r){},da7a:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"v-spinner"},[r("div",{staticClass:"v-clip",style:e.spinnerStyle})])},s=[],a={name:"ClipLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"35px"},radius:{type:String,default:"100%"}},computed:{spinnerStyle:function(){return{height:this.size,width:this.size,borderWidth:"2px",borderStyle:"solid",borderColor:this.color+" "+this.color+" transparent",borderRadius:this.radius,background:"transparent"}}}},o=a,i=(r("c337"),r("2877")),d=Object(i["a"])(o,n,s,!1,null,null,null);t["a"]=d.exports}}]);